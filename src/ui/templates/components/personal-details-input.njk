{% from "govuk/components/input/macro.njk" import govukInput %}

{% macro render(params) %}

  {% set class = params.class %}
  {% set fieldId = params.fieldId %}
  {% set label = params.label %}
  {% set labelClass = params.labelClass %}
  {% set hint = params.hint %}
  {% set submittedValues = params.submittedValues %}
  {% set applicationAnswers = params.submittedAnswers %}
  {% set validationErrors = params.validationErrors %}

  {{ govukInput({
    id: fieldId,
    name: fieldId,
    value: submittedValues[fieldId] or applicationAnswers[FIELDS.FIRST_NAME.ID],
    label: {
      text: label,
      classes: labelClass,
      attributes: {
        "data-cy": fieldId + "-label"
      }
    },
    hint: {
      text: hint,
      attributes: {
        'data-cy': fieldId + '-hint'
      }
    },
    classes: class,
    attributes: {
      "data-cy": fieldId.ID
    },
    errorMessage: validationErrors.errorList[fieldId] and {
      text: validationErrors.errorList[fieldId].text,
      attributes: {
        "data-cy": fieldId + "-error"
      }
    }
  }) }}

{% endmacro %}
