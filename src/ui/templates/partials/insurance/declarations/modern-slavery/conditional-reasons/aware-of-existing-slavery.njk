{% from "govuk/components/character-count/macro.njk" import govukCharacterCount %}

{% set fieldId = FIELDS.IS_NOT_AWARE_OF_EXISTING_SLAVERY.CONDITIONAL_REASON.ID %}
{% set label = FIELDS.IS_NOT_AWARE_OF_EXISTING_SLAVERY.CONDITIONAL_REASON.LABEL %}
{% set maxLength = FIELDS.IS_NOT_AWARE_OF_EXISTING_SLAVERY.CONDITIONAL_REASON.MAXIMUM %}

{{ govukCharacterCount({
  name: fieldId,
  id: fieldId,
  maxlength: maxLength,
  value: submittedValues[fieldId] or application.declaration.modernSlavery[fieldId],
  label: {
    text: label,
    attributes: {
      'data-cy': fieldId + '-label'
    }
  },
  errorMessage: validationErrors.errorList[fieldId] and {
    text: validationErrors.errorList[fieldId].text,
    attributes: {
      "data-cy": fieldId + "-error-message"
    }
  },
  attributes: {
    'data-cy': fieldId
  }
}) }}
