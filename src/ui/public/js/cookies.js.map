{"version":3,"file":"cookies.js","mappings":"yBAAIA,EAAaC,SAASC,cAAc,YACpCC,EAAeF,SAASC,cAAc,wBACtCE,EAAeH,SAASC,cAAc,6BACtCG,EAAeJ,SAASC,cAAc,6BACtCI,EAA4BL,SAASC,cAAc,iCAEnDK,EAAa,WACf,MAAMC,EAAO,IAAIC,KAOjB,OAJAD,EAAKE,QAAQF,EAAKG,UAAY,GAE9BH,EAAKI,cAEEJ,CACR,EAEGK,EAAqB,WACvBZ,SAASa,OAAS,wDAA0DP,GAC7E,EAEGQ,EAAqB,WACvBd,SAASa,OAAS,uDAAyDP,GAC5E,EAEGF,GACFA,EAAaW,iBAAiB,SAAS,SAAUC,GAC/CJ,GACD,IAGCT,GACFA,EAAaY,iBAAiB,SAAS,SAAUC,GAC/CF,GACD,IAGEd,SAASa,OAAOI,SAAS,qBAC5Bf,EAAagB,gBAAgB,UAG7BhB,EAAaiB,aAAa,WAAY,MACtCjB,EAAakB,QACblB,EAAaa,iBAAiB,QAAQ,WACpCb,EAAagB,gBAAgB,WAC9B,KAGCnB,GACFA,EAAWgB,iBAAiB,SAAS,SAAUC,GAC7Cd,EAAaiB,aAAa,SAAU,UACpCH,EAAMK,gBACP,IAGChB,GACFA,EAA0BU,iBAAiB,SAAS,SAAUC,GAE5D,GADiBhB,SAASC,cAAc,yCAC1B,CACZ,MAAMqB,EAAStB,SAASC,cAAc,yCAAyCsB,MAEhE,WAAXD,GACFV,IAGa,WAAXU,GACFR,GAEH,CACF,K","sources":["webpack://DTFS/./scripts/cookies.js"],"sourcesContent":["var hideButton = document.querySelector('.js-hide');\nvar cookieBanner = document.querySelector('.govuk-cookie-banner');\nvar acceptButton = document.querySelector('.js-cookies-button-accept');\nvar rejectButton = document.querySelector('.js-cookies-button-reject');\nvar changeCookiesSubmitButton = document.querySelector('.change-cookies-submit-button');\n\nvar expiryDate = function () {\n  const date = new Date();\n\n  // 1 day.\n  date.setDate(date.getDate() + 1);\n\n  date.toGMTString();\n\n  return date;\n};\n\nvar createRejectCookie = function () {\n  document.cookie = 'optionalCookies=false; path=/; SameSite=Lax; expires=' + expiryDate();\n};\n\nvar createAcceptCookie = function () {\n  document.cookie = 'optionalCookies=true; path=/; SameSite=Lax; expires=' + expiryDate();\n};\n\nif (rejectButton) {\n  rejectButton.addEventListener('click', function (event) {\n    createRejectCookie();\n  });\n}\n\nif (acceptButton) {\n  acceptButton.addEventListener('click', function (event) {\n    createAcceptCookie();\n  });\n}\n\nif (!document.cookie.includes('optionalCookies')) {\n  cookieBanner.removeAttribute('hidden');\n\n  // Shift focus to the banner\n  cookieBanner.setAttribute('tabindex', '-1');\n  cookieBanner.focus();\n  cookieBanner.addEventListener('blur', function () {\n    cookieBanner.removeAttribute('tabindex');\n  });\n}\n\nif (hideButton) {\n  hideButton.addEventListener('click', function (event) {\n    cookieBanner.setAttribute('hidden', 'hidden');\n    event.preventDefault();\n  });\n}\n\nif (changeCookiesSubmitButton) {\n  changeCookiesSubmitButton.addEventListener('click', function (event) {\n    const checkbox = document.querySelector('input[name=\"optionalCookies\"]:checked');\n    if (checkbox) {\n      const answer = document.querySelector('input[name=\"optionalCookies\"]:checked').value;\n\n      if (answer === 'reject') {\n        createRejectCookie();\n      }\n\n      if (answer === 'accept') {\n        createAcceptCookie();\n      }\n    }\n  });\n}\n"],"names":["hideButton","document","querySelector","cookieBanner","acceptButton","rejectButton","changeCookiesSubmitButton","expiryDate","date","Date","setDate","getDate","toGMTString","createRejectCookie","cookie","createAcceptCookie","addEventListener","event","includes","removeAttribute","setAttribute","focus","preventDefault","answer","value"],"sourceRoot":""}